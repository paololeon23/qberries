<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Cosecha - Agrovision</title>
    <link rel="stylesheet" href="librerias/sweetalert2.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <div class="brand">
                <img src="logo2.png" alt="Agrovision Logo" class="sidebar-logo">
            </div>
            <button id="close-btn" class="icon-btn" title="Cerrar menú">
                <i data-lucide="x-circle"></i>
            </button>
        </div>
        <ul>
            <li><a href="#" class="active"><i data-lucide="plus-circle"></i> Nueva Cosecha</a></li>
            <li><a href="#"><i data-lucide="history"></i> Historial</a></li>
            <li><a href="#"><i data-lucide="settings"></i> Configuración</a></li>
        </ul>
    </nav>

    <main class="main-content">
        <header>
            <button id="menu-btn" class="menu-btn"><i data-lucide="menu"></i> Menú</button>
            <h1>MTTP ARÁNDANO</h1>
        </header>

        <form id="cosecha-form">

            <div class="form-group main-card form-inline">
                <label for="tipo_medicion">
                    <i data-lucide="layers"></i> Tipo de Medición:
                </label>
                <select id="tipo_medicion" class="select-modern" required>
                    <option value="" disabled selected>Seleccione para comenzar...</option>
                    <option value="visual">Calibrado Visual</option>
                    <option value="acopio">Calibrado Acopio</option>
                </select>
            </div>


            <section class="form-group">
                <div class="row">
                    <div class="col">
                        <label><i data-lucide="calendar"></i> Fecha</label>
                        <input type="date" id="reg_fecha" required>
                    </div>
                    <div class="col">
                        <label><i data-lucide="user"></i> Responsable</label>
                        <input type="text" id="reg_responsable" placeholder="Antony Siesquén" required>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <label><i data-lucide="map-pin"></i> Trazabilidad</label>
                        <div class="input-group-triple">
                            <select id="reg_traz_etapa" required>
                                <option value="" disabled selected>Etapa</option>
                                <option value="1">E1</option>
                                <option value="2">E2</option>
                                <option value="3">E3</option>
                                <option value="4">E4</option>
                                <option value="5">E5</option>
                                <option value="6">E6</option>
                                <option value="7">E7</option>
                                <option value="8">E8</option>
                                <option value="9">E9</option>
                            </select>

                            <select id="reg_traz_campo" required>
                                <option value="" disabled selected>Campo</option>
                                <option value="1">C1</option>
                                <option value="2">C2</option>
                                <option value="3">C3</option>
                                <option value="4">C4</option>
                                <option value="5">C5</option>
                                <option value="6">C6</option>
                                <option value="7">C7</option>
                                <option value="8">C8</option>
                                <option value="9">C9</option>
                            </select>

                            <input type="text" oninput="this.value = this.value.toUpperCase().replace(/[^A-Z0-9]/g, '')"  id="reg_traz_libre" placeholder="T4A" maxlength="3" style="text-transform: uppercase;">
                        </div>
                    </div>
                    <div class="col">
                        <label><i data-lucide="file-text"></i> Guía Remisión Acopio</label>
                        <input type="text" inputmode="numeric" oninput="this.value = this.value.replace(/[^0-9]/g, '')" id="reg_guia_remision" placeholder="200416" maxlength="6" required>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <label><i data-lucide="leaf"></i> Variedad</label>
                        <div class="input-group-triple">
                            <select id="reg_variedad" required>
                                <option value="" disabled selected>--- Seleccione Variedad ---</option>
                                </select>
                        </div>
                    </div>
                    <div class="col">
                        <label><i data-lucide="truck"></i> Placa Vehículo</label>
                        <input type="text" oninput="this.value = this.value.replace(/[^A-Za-z0-9-]/g, '')" id="reg_placa" placeholder="9578-PK" maxlength="7" style="text-transform: uppercase;" required>
                    </div>
                </div>

                <div class="row">

                    <div class="col">
                        <label><i data-lucide="clock"></i> Hora Inicio General</label>
                        <input type="time" id="reg_hora_inicio" value="07:15" required>
                    </div>
                    <div class="col">
                        <label><i data-lucide="calendar-days"></i> Días Precosecha / N°</label>
                        <input type="text" id="reg_dias_precosecha" placeholder="6, 29">
                    </div>
                </div>
            </section>

            <hr>

            <div class="form-group main-card form-inline">
                <label for="tipo_medicion">
                    <i data-lucide="layers"></i> Rótulo de Muestra:
                </label>
                    <select id="reg_rotulo_ensayo" class="select-modern" required>
                        <option value="" disabled selected>Seleccione para comenzar...</option>
                        <option value="1">Ensayo 1</option>
                        <option value="2">Ensayo 2</option>
                        <option value="3">Ensayo 3</option>
                        <option value="4">Ensayo 4</option>
                    </select>
            </div>

<div id="wrapper_visual" class="collapsible-wrapper" style="display: none;">
    <div class="collapsible-card">
        <div class="card-header collapsible-toggle" data-target="body-visual">
            <div class="header-info">
                <i data-lucide="scale"></i>
                <span>ENTRADA DE PESOS: VISUAL</span>
            </div>
            <i data-lucide="chevron-down" class="chevron"></i>
        </div>

        <div class="card-body" id="body-visual">
            <div class="input-entry-zone">
                <div class="row-compact">
                    <div class="col-input">
                        <label>N° Jarra</label>
                        <input type="number" id="v_jarra" placeholder="0" inputmode="numeric">
                    </div>
                    <div class="col-input">
                        <label>Peso 1 (g)</label>
                        <input type="number" id="v_peso1" step="0.1" placeholder="0.0" inputmode="decimal">
                    </div>
                    <div class="col-input">
                        <label>Peso 2 (g)</label>
                        <input type="number" id="v_peso2" step="0.1" placeholder="0.0" inputmode="decimal">
                    </div>
                    <div class="col-button-action">
                        <button type="button" id="btn-add-visual" class="btn-add-pro">
                            <i data-lucide="plus-circle"></i> Añadir
                        </button>
                    </div>
                </div>
            </div>

            <div class="table-scroll">
                <table class="table-pro">
                    <thead>
                        <tr>
                            <th>N° CLAM</th>
                            <th>N° JARRA</th>
                            <th>PESO 1</th>
                            <th>PESO 2</th>
                            <th>ACCION</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-visual"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div id="wrapper_tiempos" class="collapsible-wrapper" style="display: none;">
    <div class="collapsible-card">
        <div class="card-header collapsible-toggle" data-target="body-tiempos">
            <div class="header-info">
                <i data-lucide="clock"></i>
                <span>TIEMPOS DE LA MUESTRA (HORA)</span>
            </div>
            <i data-lucide="chevron-down" class="chevron"></i>
        </div>

        <div class="card-body" id="body-tiempos">
            <div class="input-entry-zone">
                <div class="row-compact">
                    <div class="col-input">
                        <label>Inicio Cosecha</label>
                        <input type="time" id="t_inicio_cosecha">
                    </div>
                    <div class="col-input">
                        <label>Pérdida Peso</label>
                        <input type="time" id="t_perdida_peso">
                    </div>
                    <div class="col-input">
                        <label>Término Cosecha</label>
                        <input type="time" id="t_termino_cosecha">
                    </div>
                    <div class="col-input">
                        <label>Llegada Acopio</label>
                        <input type="time" id="t_llegada_acopio">
                    </div>
                    <div class="col-input">
                        <label>Despacho Acopio</label>
                        <input type="time" id="t_despacho_acopio">
                    </div>
                    <div class="col-button-action">
                        <button type="button" id="btn-add-tiempos" class="btn-add-pro">
                            <i data-lucide="plus-circle"></i> Añadir
                        </button>
                    </div>
                </div>
            </div>

            <div class="table-scroll">
                <table class="table-pro">
                    <thead>
                        <tr>
                            <th>N° CLAM</th>
                            <th>INICIO COSECHA</th>
                            <th>PÉRDIDA PESO</th>
                            <th>TÉRMINO COSECHA</th>
                            <th>LLEGADA ACOPIO</th>
                            <th>DESPACHO ACOPIO</th>
                            <th>ACCION</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-tiempos"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div id="wrapper_temperaturas" class="collapsible-wrapper" style="display: none;">
    <div class="collapsible-card">
        <div class="card-header collapsible-toggle" data-target="body-temperaturas">
            <div class="header-info">
                <i data-lucide="thermometer"></i>
                <span>TEMPERATURA MUESTRA (°C)</span>
            </div>
            <i data-lucide="chevron-down" class="chevron"></i>
        </div>

        <div class="card-body" id="body-temperaturas">
            <div class="table-scroll">
                <table class="table-field-style">
                    <thead>
                        <tr>
                            <th rowspan="2" class="b-left">N° CLAM</th>
                            <th colspan="2">INICIO</th>
                            <th colspan="2">TÉRMINO</th>
                            <th colspan="2">LLEGADA ACOPIO</th>
                            <th colspan="2">DESPACHO ACOPIO</th>
                            <th rowspan="2" class="b-right">ACCION</th>
                        </tr>
                        <tr class="sub-header-icons">
                            <th title="T° Ambiente"><i data-lucide="thermometer-sun"></i></th>
                            <th title="T° Pulpa (Fruta)"><i data-lucide="cherry"></i></th>
                            <th title="T° Ambiente"><i data-lucide="thermometer-sun"></i></th>
                            <th title="T° Pulpa (Fruta)"><i data-lucide="cherry"></i></th>
                            <th title="T° Ambiente"><i data-lucide="thermometer-sun"></i></th>
                            <th title="T° Pulpa (Fruta)"><i data-lucide="cherry"></i></th>
                            <th title="T° Ambiente"><i data-lucide="thermometer-sun"></i></th>
                            <th title="T° Pulpa (Fruta)"><i data-lucide="cherry"></i></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="input-table-row">
                            <td class="b-left"><span id="next_clam_temp">1</span></td>
                            <td><input type="number" id="temp_inicio_amb" placeholder="0.0" step="0.1"></td>
                            <td><input type="number" id="temp_inicio_pul" placeholder="0.0" step="0.1"></td>
                            <td><input type="number" id="temp_termino_amb" placeholder="0.0" step="0.1"></td>
                            <td><input type="number" id="temp_termino_pul" placeholder="0.0" step="0.1"></td>
                            <td><input type="number" id="temp_llegada_amb" placeholder="0.0" step="0.1"></td>
                            <td><input type="number" id="temp_llegada_pul" placeholder="0.0" step="0.1"></td>
                            <td><input type="number" id="temp_despacho_amb" placeholder="0.0" step="0.1"></td>
                            <td><input type="number" id="temp_despacho_pul" placeholder="0.0" step="0.1"></td>
                            <td class="b-right">
                                <button type="button" id="btn-add-temperaturas" class="btn-mini-add">
                                    <i data-lucide="plus"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                    <tbody id="tbody-temperaturas"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

            <div id="wrapper_acopio" class="collapsible-wrapper" style="display: none;">
                <div class="empty-state">
                    <i data-lucide="construction"></i>
                    <p>Calibrado de Acopio: Módulo en espera.</p>
                </div>
            </div>

        <button type="submit" id="btn-guardar-registro" class="btn-primary-blue">
            GUARDAR REGISTRO
        </button>

        </form>
    </main>

    <script src="librerias/sweetalert2.all.min.js"></script>
    <script src="librerias/lucide.min.js"></script>
    <script src="script.js"></script>
</body>
</html>